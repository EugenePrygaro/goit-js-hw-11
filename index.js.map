{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '54674722-b145bb2552402daa868c731d8';\nconst getImagesByQuery = async query => {\n  const response = await axios.get('https://pixabay.com/api/', {\n    params: {\n      key: apiKey,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n\n  return response.data;\n};\n\nexport default getImagesByQuery;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst simpleLightbox = new SimpleLightbox('.gallery a', {\n  overlay: true,\n  nav: true,\n  captionDelay: 250,\n});\n\nexport const createGallery = images => {\n  const markup = images\n    .map(image => {\n      return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${image.webformatURL}\"\n          alt=\"${image.tags}\"\n        />\n      </a>\n      <ul class=\"gallery-image-metainfo\">\n        <li class=\"metainfo-item\">\n            <p>Likes</p>\n            <span>${image.likes}</span>\n        </li>\n        <li class=\"metainfo-item\">\n            <p>Views</p>\n            <span>${image.views}</span>\n        </li>\n        <li class=\"metainfo-item\">\n            <p>Comments</p>\n            <span>${image.comments}</span>\n        </li>\n        <li class=\"metainfo-item\">\n            <p>Downloads</p>\n            <span>${image.downloads}</span>\n        </li>\n      </ul>\n    </li>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  simpleLightbox.refresh();\n};\n\nexport const clearGallery = () => {\n  gallery.innerHTML = '';\n};\n\nconst loader = document.querySelector('.loader');\n\nexport const showLoader = () => {\n  loader.style.display = 'block';\n};\n\nexport const hideLoader = () => {\n  loader.style.display = 'none';\n};\n","import getImagesByQuery from './js/pixabay-api.js';\nimport {\n  hideLoader,\n  showLoader,\n  clearGallery,\n  createGallery,\n} from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('input');\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  clearGallery();\n  if (formInput.value.trim() === '') {\n    iziToast.show({\n      title: 'Error',\n      message: 'Search form is empty!',\n    });\n    return;\n  }\n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(formInput.value);\n\n    hideLoader();\n\n    if (images.totalHits === 0) {\n      iziToast.show({\n        title: 'No results',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    createGallery(images.hits);\n  } catch (error) {\n    hideLoader();\n    iziToast.show({\n      title: 'Error',\n      message: 'Something went wrong. Please try again!',\n    });\n    console.error(error);\n  }\n});\n"],"names":["apiKey","getImagesByQuery","query","axios","gallery","simpleLightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","loader","showLoader","hideLoader","form","formInput","e","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAmB,MAAMC,IACZ,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,KCXZE,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAiB,IAAIC,EAAe,aAAc,CACtD,QAAS,GACT,IAAK,GACL,aAAc,GAChB,CAAC,EAEYC,EAAgBC,GAAU,CACrC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA,sCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGxCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAMPA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,oBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAI9B,EACA,KAAK,EAAE,EAEVN,EAAQ,mBAAmB,YAAaK,CAAM,EAC9CJ,EAAe,QAAO,CACxB,EAEaM,EAAe,IAAM,CAChCP,EAAQ,UAAY,EACtB,EAEMQ,EAAS,SAAS,cAAc,SAAS,EAElCC,EAAa,IAAM,CAC9BD,EAAO,MAAM,QAAU,OACzB,EAEaE,EAAa,IAAM,CAC9BF,EAAO,MAAM,QAAU,MACzB,EChDMG,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,OAAO,EAEhDD,EAAK,iBAAiB,SAAU,MAAME,GAAK,CAGzC,GAFAA,EAAE,eAAc,EAChBN,IACIK,EAAU,MAAM,KAAI,IAAO,GAAI,CACjCE,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,uBACf,CAAK,EACD,MACD,CACDL,IAEA,GAAI,CACF,MAAML,EAAS,MAAMP,EAAiBe,EAAU,KAAK,EAIrD,GAFAF,IAEIN,EAAO,YAAc,EAAG,CAC1BU,EAAS,KAAK,CACZ,MAAO,aACP,QACE,0EACV,CAAO,EACD,MACD,CAEDX,EAAcC,EAAO,IAAI,CAC1B,OAAQW,EAAO,CACdL,IACAI,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,yCACf,CAAK,EACD,QAAQ,MAAMC,CAAK,CACpB,CACH,CAAC"}